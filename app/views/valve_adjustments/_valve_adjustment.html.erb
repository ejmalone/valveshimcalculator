<% show_state ||= false %>

<div id="<%= dom_id valve_adjustment %>" class="row">
  <p>
    <strong>Engine:</strong>
    <%= engine_name(valve_adjustment.engine) %>
  </p>

  <p>
    <strong>Mileage:</strong>
    <%= valve_adjustment.mileage %>
  </p>

  <p>
    <strong>Adjustment date:</strong>
    <%= valve_adjustment.adjustment_date %>
  </p>

  <p>
    <strong>Notes:</strong>
    <%= valve_adjustment.notes %>
  </p>

  <p>
    <strong>Status:</strong>
    <%= valve_adjustment.status || "new" %>
  </p>

  <% if show_state %>
    <div class="col-md-6 col-lg-4">
      <strong>Initial valve state:</strong>
      <%= render 'valve_adjustment_state', valve_adjustment: valve_adjustment.versions.second.reify %>
    </div>

    <% if valve_adjustment.completed? %>
      <div class="col-md-6 col-lg-4">
        <strong>Final valve state:</strong>
        <%= render 'valve_adjustment_state', valve_adjustment: valve_adjustment %>
      </div>
    <% end %>
  <% end %>
</div>